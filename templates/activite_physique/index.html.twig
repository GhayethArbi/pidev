{% extends 'AdminTpl/baseD.html.twig' %}
{% block Dtitle %}
Activites physiques
{% endblock %}
{% block Adminbody%}
   <div class="col-lg-4">
		 <!-- Website Traffic -->
          <div class="card">
            <div class="card-body pb-0">
              <h5 class="card-title">Stats</h5>
              <div id="trafficChart" style="min-height: 500px; min-width:400px" class="echart"></div>
              <script>
                document.addEventListener("DOMContentLoaded", () => {
                  echarts.init(document.querySelector("#trafficChart")).setOption({
                    tooltip: {
                      trigger: 'item'
                    },
                    legend: {
                      top: '5%',
                      left: 'center'
                    },
                    series: [{
                      name: 'Access From',
                      type: 'pie',
                      radius: ['40%', '70%'],
                      avoidLabelOverlap: false,
                      label: {
                        show: false,
                        position: 'center'
                      },
                      emphasis: {
                        label: {
                          show: true,
                          fontSize: '18',
                          fontWeight: 'bold'
                        }
                      },
                      labelLine: {
                        show: false
                      },
                      data: [{
                          value: {{musculationCount}},
                          name: 'Musculation'
                        },
                        {
                          value: {{cardioCount}},
                          name: 'Cardiovasculaire'
                        },        
                      ]
                    }]
                  });
                });
              </script>
            </div>
          </div><!-- End Website Traffic -->
	</div>
	<table class="table" id="dataTable">
		<thead>
			<tr>
				<th scope="col">Id</th>
				<th scope="col">Nom_Activite</th>
				<th scope="col">Type_Activite</th>
				<th scope="col">Duree_Activite</th>
				<th scope="col">Calories_Brules</th>
				<th scope="col">Nb_Series</th>
				<th scope="col">Nb_Rep_Series</th>
				<th scope="col">Poids_Par_Serie</th>
				<th scope="col">Image_Activite</th>
				<th scope="col">Id_Objectifs_Associ√©s</th>
				<th>actions</th>
			</tr>
		</thead>
		<tbody>
			{% for activite_physique in activite_physiques %}
				<tr>
					<td>{{ activite_physique.id }}</td>
					<td>{{ activite_physique.NomActivite }}</td>
					<td>{{ activite_physique.TypeActivite }}</td>
					<td>{{ activite_physique.DureeActivite }}</td>
					<td>{{ activite_physique.CaloriesBrules }}</td>
					<td>{{ activite_physique.NbSeries }}</td>
					<td>{{ activite_physique.NbRepSeries }}</td>
					<td>{{ activite_physique.PoidsParSerie }}</td>
					<td>
						{% if activite_physique.getImageActivite() %}
							<img src="{{ asset('Uploads/' ~ activite_physique.getImageActivite())}}" alt="image d'activite" style="width:100px">
						{% endif %}
					</td>
					<td>
						{% for objectif in activite_physique.objectifs %}
							{{ objectif.id }}
							-
							{{ objectif.nomObjectif }}
							{# Display other properties of the objectif entity as needed #}
							<br>
						{% endfor %}
					</td>
					<td>
						<a href="{{ path('app_activite_physique_show', {'id': activite_physique.id}) }}" class="btn btn-outline-dark">show</a>
						<a href="{{ path('app_activite_physique_edit', {'id': activite_physique.id}) }}" class="btn btn-outline-dark">edit</a>
					</td>
				</tr>
			{% else %}
				<tr>
					<td colspan="10">no records found</td>
				</tr>
			{% endfor %}
		</tbody>
	</table>

	<a href="{{ path('app_activite_physique_new') }}" class="btn btn-outline-dark">Create new</a>
		<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

<!-- Include DataTables library -->
<script src="https://cdn.datatables.net/1.11.5/js/jquery.dataTables.js"></script>

<!-- DataTables Initialization Script -->
<script>
  $(document).ready(function () {
    $('#dataTable').DataTable({
      "initComplete": function (settings, json) {
        // Customize the search input field
        var searchInput = $('#dataTable_filter input[type="search"]');
        searchInput.addClass('form-control');
        searchInput.attr('placeholder', 'Search...'); // Set placeholder text
      }
    });
  });

</script>
{% endblock %}
